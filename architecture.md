
# React with typescript architecture

This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).

## Contents
  
  1. [Basic structure](#structure)
  2. [Suggestion about typescript](#typescript)
  3. [Containers vs Presentational Components](#containersComponents)
  4. [Routes](#routes)
  5. [Auto-generated types](#autoGenerated)
  6. [States level up cases](#reduxCases)
  7. [Style achitecture](#style)
  8. [*Auth0](#auth0)
  9. [*Error handling](#errorHandling)

<a name="structure"></a>

## Basic structure

■ react + redux + typescript + style-component 

■ Architecture pattern:

- Data provider　　　　→ API provider
  
- Data handler　　 　　→ Store（action/reducer）
- Link center　　　　　→ Container
- UI　　　　　　 　　　→ Component (presentational/style)

■ Points: 

- Manage the state in one place
- Lower level components should be stateless and small
- Define types from top level(From Data provider level)

<a name="typescript"></a>

## Suggestion about typescript

■　Where to define types is important

- API request params (must)
- API response body (must)
- Props & states of the containers (must)
- Props of the presentational components (must)
- states of the presentational components (must)
- Props of the style components (should)
- states of the style components (should)

■　How to define types
Almost of the types are auto-generated by API documents in yaml file 

- API request params (auto-generated types)
- API response body (auto-generated types)
- Props & states of the containers (auto-generated types)
- Props of the UI components (containers props types)
- states of the UI components (Self-defined types)

■ TSC works slowly issue

Fixed by the newest version of TS:
https://github.com/microsoft/TypeScript/issues/30663#issuecomment-507406245


<a name="containersComponents"></a>

## Containers vs Presentational Components

■ Containers resposibility

- Providing data and behavior to their children 
- Stateful
- Rarely have any HTML tags of their own, aside from a wrapping <div> 

■ Presentational Components resposibility

- Probably only contain a render method and little else logic
- Best written as stateless functional components

<a name="routes"></a>

## Routes 

The Routes config level should  higher  than the Container's

<a name="autoGenerated"></a>

## Auto-generated types

https://github.com/monstar-lab/swagger-mock-server

TODO:
If could auto-generate types by initState or mock-json file without swagger is another viable solution.


<a name="reduxCases"></a>

## States level up cases
 
- Brother components the states of one changes affect another one (States move to father)
- A component changes grandson's states
- Same states used by different  components (some times use storage is much better)

<a name="style"></a>

## Style achitecture

<a name="auth0"></a>

## *Auth0

<a name="errorHandling"></a>

## *Error handling






